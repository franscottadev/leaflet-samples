<!DOCTYPE html>
<html>
  <head>
    <title>leaflet-kmz</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Leaflet (JS/CSS) -->
    <script src="dist/leaflet-src.js"></script>
    <script src="dist/leaflet-ui-src.js"></script>

    <script src="dist/leaflet-kmz-src.js"></script>

    <style>
      html,
      body,
      .map {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
      }
    </style>
  </head>

  <body>
    <div id="map" class="map"></div>

    <script>
      var map = L.map("map", {
        center: [7.3709133, -1.1182976],
        zoom: 7,
        mapTypeId: "terrain",
        gestureHandling: false,
        searchControl: false,
        locateControl: false,
        pegmanControl: false,
        fullscreenControl: false,
        minimapControl: false,
        preferCanvas: true,
        plugins: [
          "@raruto/leaflet-elevation@1.3.x/dist/leaflet-elevation.css",
          "@raruto/leaflet-elevation@1.3.x/dist/leaflet-elevation.js",
        ],
      });

      // Instantiate KMZ parser (async)
      var kmz = L.kmzLayer(null, {}).addTo(map);

      kmz.on("load", function (e) {
        control.addOverlay(e.layer, e.name);
        e.layer.addTo(map);
      });

      // Add remote KMZ files as layers (NB if they are 3rd-party servers, they MUST have CORS enabled)
      kmz.load("files/ghana/GhanaGasAssociatedInfra.kmz");
      kmz.load("files/ghana/GhanaGasPipelines.kmz");
      kmz.load("files/ghana/GhanaGasPlants.kmz");
      kmz.load("files/ghana/GhanaPowerPlants.kmz");
      kmz.load("files/ghana/TemaCityGate.kmz");

      var control = L.control
        .layers(null, null, {
          collapsed: false,
        })
        .addTo(map);
    </script>
  </body>
</html>
